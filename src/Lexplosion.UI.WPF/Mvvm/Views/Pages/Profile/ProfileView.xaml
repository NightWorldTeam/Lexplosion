<UserControl
    x:Class="Lexplosion.UI.WPF.Mvvm.Views.Pages.Profile.ProfileView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:System="clr-namespace:System;assembly=mscorlib"
    xmlns:controls="clr-namespace:Lexplosion.UI.WPF.Controls"
    xmlns:converters="clr-namespace:Lexplosion.UI.WPF.Core.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:extensions="clr-namespace:Lexplosion.UI.WPF.Extensions"
    xmlns:lexplosion="clr-namespace:Lexplosion;assembly=Lexplosion.Core"
    xmlns:local="clr-namespace:Lexplosion.UI.WPF.Mvvm.Views.Pages.Profile"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:profile="clr-namespace:Lexplosion.UI.WPF.Mvvm.ViewModels.Profile"
    xmlns:profileObjects="clr-namespace:Lexplosion.UI.WPF.Mvvm.Models.Profile"
    d:DataContext="{d:DesignInstance Type=profile:ProfileViewModel}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">

    <UserControl.Resources>
        <System:Double x:Key="StatsFontSize">14</System:Double>
        <Thickness x:Key="StatsHighlightPadding">16,0</Thickness>

        <DataTemplate DataType="{x:Type profileObjects:ProfileSocialMedia}">
            <Border
                x:Name="Border"
                Width="34"
                Height="34"
                Margin="4,0,0,0"
                Padding="6"
                Background="{DynamicResource SecondarySolidColorBrush}"
                BorderBrush="{DynamicResource SeparateSolidColorBrush}"
                BorderThickness="1"
                CornerRadius="5"
                Cursor="Hand">
                <Border>
                    <Viewbox>
                        <Path
                            x:Name="Path"
                            extensions:PathExtensions.StringKeyData="{Binding LogoName}"
                            Fill="{DynamicResource SecondaryForegroundSolidColorBrush}"
                            Stretch="Fill" />
                    </Viewbox>
                </Border>
            </Border>

            <DataTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter TargetName="Path" Property="Fill" Value="{DynamicResource ActivitySolidColorBrush}" />
                    <Setter TargetName="Border" Property="Background" Value="{DynamicResource PrimarySolidColorBrush}" />
                </Trigger>
            </DataTemplate.Triggers>

        </DataTemplate>
    </UserControl.Resources>

    <!--  Profile Main Page  -->
    <Grid Grid.Column="1">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="0.5*" MaxWidth="370" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <local:ProfileInfoView Margin="0,0,8,0" DataContext="{Binding Model.ProfileInfo}" />

        <Grid
            x:Name="MainContentGrid"
            Grid.Column="1"
            Margin="0,0,8,0"
            ShowGridLines="False"
            SizeChanged="Grid_SizeChanged">

            <!--  Add post & Feed  -->
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <controls:AdvancedTextBox Margin="0,0,0,8" Placeholder="Текст записи пожалуйста..." />

                <Border
                    Grid.Row="1"
                    Padding="0,16,0,0"
                    Background="{DynamicResource PrimarySolidColorBrush}"
                    BorderBrush="{DynamicResource SeparateSolidColorBrush}"
                    BorderThickness="1"
                    CornerRadius="5">
                    <StackPanel>
                        <Border
                            Padding="20,0,20,16"
                            BorderBrush="{DynamicResource SeparateSolidColorBrush}"
                            BorderThickness="0,0,0,1">
                            <Grid ShowGridLines="False">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>

                                <!--  Post header  -->
                                <StackPanel Orientation="Horizontal">

                                    <!--  Author Header  -->
                                    <Border
                                        Width="45"
                                        Height="45"
                                        CornerRadius="100">
                                        <Border.Background>
                                            <ImageBrush ImageSource="/Assets/images/icons/hel2xhead.png" />
                                        </Border.Background>
                                    </Border>

                                    <!--  Nickname & Title  -->
                                    <Border
                                        Margin="8,0,0,0"
                                        Padding="8,0,0,0"
                                        BorderBrush="{DynamicResource ActivitySolidColorBrush}"
                                        BorderThickness="1,0,0,0">
                                        <StackPanel>
                                            <!--  Nickname  -->
                                            <TextBlock
                                                FontSize="18"
                                                Foreground="{DynamicResource PrimaryForegroundSolidColorBrush}"
                                                Text="Editor" />
                                            <!--  Title  -->
                                            <Border
                                                Margin="0,8,0,0"
                                                HorizontalAlignment="Center"
                                                Background="{Binding Model.ProfileInfo.Title.BackgroundColor, Mode=OneWay, Converter={converters:UIntToSolidColorBrushConverter}}"
                                                BorderBrush="{Binding Model.ProfileInfo.Title.BorderColor, Mode=OneWay, Converter={converters:UIntToSolidColorBrushConverter}}"
                                                BorderThickness="1"
                                                CornerRadius="5">
                                                <TextBlock
                                                    Padding="8,2"
                                                    HorizontalAlignment="Center"
                                                    FontSize="11"
                                                    Foreground="{Binding Model.ProfileInfo.Title.Color, Mode=OneWay, Converter={converters:UIntToSolidColorBrushConverter}}"
                                                    Text="{Binding Model.ProfileInfo.Title.Name, Mode=OneWay}" />
                                            </Border>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>

                                <!--  Post content  -->
                                <TextBlock
                                    Grid.Row="1"
                                    Margin="0,16,0,8"
                                    FontSize="{DynamicResource StatsFontSize}"
                                    Foreground="{DynamicResource PrimaryForegroundSolidColorBrush}"
                                    Text="Защита информации в информационных системах персональных данных, государственных информационных системах и значимых объектах критической информационной инфраструктуры"
                                    TextWrapping="WrapWithOverflow" />

                                <!--  Post footer  -->
                                <TextBlock
                                    Grid.Row="2"
                                    HorizontalAlignment="Right"
                                    Foreground="{DynamicResource SecondaryForegroundSolidColorBrush}"
                                    Text="Сентябрь, 6. 2022" />

                                <Grid Grid.Row="3" Margin="0,8,0,0">

                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <!--  Like  -->
                                    <ToggleButton Margin="0,0,16,0">
                                        <ToggleButton.Template>
                                            <ControlTemplate TargetType="{x:Type ToggleButton}">
                                                <StackPanel
                                                    Background="Transparent"
                                                    FocusVisualStyle="{x:Null}"
                                                    Orientation="Horizontal">

                                                    <Viewbox Height="16" Margin="0,0,8,0">
                                                        <Path
                                                            x:Name="Path"
                                                            Data="M9.375 5C5.57804 5 2.5 8.07806 2.5 11.875C2.5 18.75 10.625 25 15 26.4539C19.375 25 27.5 18.75 27.5 11.875C27.5 8.07806 24.4219 5 20.625 5C18.2998 5 16.2442 6.15431 15 7.92113C13.7558 6.15431 11.7002 5 9.375 5Z"
                                                            Stretch="Fill"
                                                            Stroke="{DynamicResource SecondaryForegroundSolidColorBrush}"
                                                            StrokeThickness="2" />
                                                    </Viewbox>

                                                    <TextBlock
                                                        x:Name="Count"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Center"
                                                        Foreground="{DynamicResource PrimaryForegroundSolidColorBrush}"
                                                        Text="537" />
                                                </StackPanel>

                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsChecked" Value="True">
                                                        <Setter TargetName="Path" Property="Fill" Value="{DynamicResource ActivitySolidColorBrush}" />
                                                        <Setter TargetName="Path" Property="Stroke" Value="{DynamicResource ActivitySolidColorBrush}" />
                                                        <Setter TargetName="Count" Property="Foreground" Value="{DynamicResource ActivitySolidColorBrush}" />
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </ToggleButton.Template>
                                    </ToggleButton>

                                    <!--  Comments  -->
                                    <ToggleButton
                                        x:Name="CommentToggleButton"
                                        Grid.Column="1"
                                        Margin="0,0,16,0">
                                        <ToggleButton.Template>
                                            <ControlTemplate TargetType="{x:Type ToggleButton}">
                                                <StackPanel
                                                    Background="Transparent"
                                                    FocusVisualStyle="{x:Null}"
                                                    Orientation="Horizontal">

                                                    <Viewbox Height="16" Margin="0,0,8,0">
                                                        <Path
                                                            x:Name="Path"
                                                            Data="M20.625 23.75H13.75V18.75H22.5V13.75H27.5V23.75H24.375L22.5 25.625L20.625 23.75Z M2.5 3.75H22.5V18.75H10.625L8.125 21.25L5.625 18.75H2.5V3.75Z M11.875 11.25H12.5 M16.25 11.25H16.875 M7.5 11.25H8.125"
                                                            Stretch="Fill"
                                                            Stroke="{DynamicResource SecondaryForegroundSolidColorBrush}"
                                                            StrokeThickness="2" />
                                                    </Viewbox>

                                                    <TextBlock
                                                        x:Name="Count"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Center"
                                                        Foreground="{DynamicResource PrimaryForegroundSolidColorBrush}"
                                                        Text="22" />
                                                </StackPanel>

                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsChecked" Value="True">
                                                        <Setter TargetName="Path" Property="Stroke" Value="{DynamicResource ActivitySolidColorBrush}" />
                                                        <Setter TargetName="Count" Property="Foreground" Value="{DynamicResource ActivitySolidColorBrush}" />
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </ToggleButton.Template>
                                    </ToggleButton>



                                    <!--  Views  -->

                                    <StackPanel
                                        Grid.Column="2"
                                        HorizontalAlignment="Right"
                                        Orientation="Horizontal">

                                        <Viewbox Height="14" Margin="0,0,8,0">
                                            <Path
                                                Data="M13.9987 21C20.442 21 25.6654 14 25.6654 14C25.6654 14 20.442 7 13.9987 7C7.55537 7 2.33203 14 2.33203 14C2.33203 14 7.55537 21 13.9987 21Z M13.9987 16.9193C15.6095 16.9193 16.9154 15.6134 16.9154 14.0026C16.9154 12.3918 15.6095 11.0859 13.9987 11.0859C12.3879 11.0859 11.082 12.3918 11.082 14.0026C11.082 15.6134 12.3879 16.9193 13.9987 16.9193Z"
                                                Stretch="Fill"
                                                Stroke="{DynamicResource SecondaryForegroundSolidColorBrush}" />
                                        </Viewbox>

                                        <TextBlock
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Center"
                                            Foreground="{DynamicResource PrimaryForegroundSolidColorBrush}"
                                            Text="22" />
                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </Border>

                        <!--  Comments  -->
                        <Border
                            Padding="24,12"
                            BorderBrush="{DynamicResource SeparateSolidColorBrush}"
                            BorderThickness="0,0,0,1"
                            Visibility="{Binding IsChecked, ElementName=CommentToggleButton, Converter={converters:BooleanToVisibilityConverter}}">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>

                                <!--  Add New Comment Field  -->
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>

                                    <!--  Author Header  -->
                                    <Border
                                        Margin="0,0,8,0"
                                        Padding="0,0,8,0"
                                        BorderBrush="{DynamicResource ActivitySolidColorBrush}"
                                        BorderThickness="0,0,2,0">
                                        <Border
                                            Width="24"
                                            Height="24"
                                            CornerRadius="100">
                                            <Border.Background>
                                                <ImageBrush ImageSource="/Assets/images/icons/hel2xhead.png" />
                                            </Border.Background>
                                        </Border>
                                    </Border>

                                    <controls:AdvancedTextBox
                                        Grid.Column="1"
                                        HorizontalAlignment="Stretch"
                                        Placeholder="Текст комментария пожалуйста..." />

                                    <Button
                                        Grid.Column="2"
                                        Width="32"
                                        Height="32"
                                        Margin="8,0,0,0"
                                        Cursor="Hand">
                                        <Button.Template>
                                            <ControlTemplate>
                                                <Border Background="Transparent">
                                                    <Viewbox Height="20">
                                                        <Path
                                                            Data="M0.847656 16.2344V0.234375L19.8477 8.23438L0.847656 16.2344ZM2.84766 13.2344L14.6977 8.23438L2.84766 3.23438V6.73438L8.84766 8.23438L2.84766 9.73438V13.2344Z"
                                                            Fill="{DynamicResource LatestForegroundSolidColorBrush}"
                                                            Stretch="Fill" />
                                                    </Viewbox>
                                                </Border>
                                            </ControlTemplate>
                                        </Button.Template>
                                    </Button>
                                </Grid>

                                <!--  Comments Feed  -->
                                <Grid Grid.Row="1" Margin="0,16,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>

                                    <!--  Author Header  -->
                                    <Border
                                        Margin="0,0,8,0"
                                        Padding="0,0,8,0"
                                        VerticalAlignment="Top"
                                        BorderBrush="{DynamicResource ActivitySolidColorBrush}"
                                        BorderThickness="0,0,2,0">
                                        <Border
                                            Width="40"
                                            Height="40"
                                            CornerRadius="100">
                                            <Border.Background>
                                                <ImageBrush ImageSource="/Assets/images/icons/nightworld.png" />
                                            </Border.Background>
                                        </Border>
                                    </Border>

                                    <StackPanel Grid.Column="1">
                                        <StackPanel Orientation="Horizontal">

                                            <TextBlock
                                                FontSize="14"
                                                Foreground="{DynamicResource PrimaryForegroundSolidColorBrush}"
                                                Text="NightWorld" />

                                            <TextBlock
                                                Margin="4,0,0,0"
                                                VerticalAlignment="Bottom"
                                                FontSize="12"
                                                Foreground="{DynamicResource LatestForegroundSolidColorBrush}"
                                                Text="в ответ _Hel2x_" />
                                        </StackPanel>

                                        <TextBlock
                                            FontSize="13"
                                            Foreground="{DynamicResource SecondaryForegroundSolidColorBrush}"
                                            Text="This topic describes the styles and templates for the ToggleButton control. You can modify the default ControlTemplate to give the control a unique appearance. For more information, see Create a template for a control.  "
                                            TextWrapping="WrapWithOverflow" />
                                    </StackPanel>

                                    <StackPanel
                                        Grid.Row="1"
                                        Grid.Column="1"
                                        Margin="0,4,0,0"
                                        Orientation="Horizontal">

                                        <!--  Date  -->
                                        <TextBlock Foreground="{DynamicResource LatestForegroundSolidColorBrush}" Text="Август, 2. 2025" />

                                        <!--  Answer Button  -->
                                        <Button Margin="4,0,0,0">
                                            <Button.Template>
                                                <ControlTemplate>
                                                    <TextBlock
                                                        x:Name="Text"
                                                        Foreground="{DynamicResource ActivitySolidColorBrush}"
                                                        Text="&gt; Ответить" />

                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="Text" Property="TextDecorations" Value="Underline" />
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Button.Template>
                                        </Button>
                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </Border>
                    </StackPanel>
                </Border>
            </Grid>

            <Border
                Margin="8,0,0,0"
                Padding="8,12"
                Background="{DynamicResource PrimarySolidColorBrush}"
                BorderBrush="{DynamicResource SeparateSolidColorBrush}"
                BorderThickness="1"
                CornerRadius="5">
                <TextBlock
                    FontSize="16"
                    Foreground="{DynamicResource PrimaryForegroundSolidColorBrush}"
                    Text="Friends Online" />
            </Border>
        </Grid>
    </Grid>

</UserControl>
